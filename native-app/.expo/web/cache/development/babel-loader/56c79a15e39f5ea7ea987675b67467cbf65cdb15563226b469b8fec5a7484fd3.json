{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _native = require(\"@react-navigation/native\");\nvar _stack = require(\"@react-navigation/stack\");\nvar _bottomTabs = require(\"@react-navigation/bottom-tabs\");\nvar _reactNative = require(\"react-native\");\nvar _StateService = _interopRequireDefault(require(\"../services/StateService\"));\nvar _CampaignChooserScreen = _interopRequireDefault(require(\"../screens/CampaignChooserScreen\"));\nvar _PrayerFeedScreen = _interopRequireDefault(require(\"../screens/PrayerFeedScreen\"));\nvar _PrayerFuelScreen = _interopRequireDefault(require(\"../screens/PrayerFuelScreen\"));\nvar _CampaignsScreen = _interopRequireDefault(require(\"../screens/CampaignsScreen\"));\nvar _colors = require(\"../theme/colors\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _this = this,\n  _jsxFileName = \"/home/nath/Work/FaithTech/Doxa/mobile-app/PrayerApp/src/navigation/AppNavigator.tsx\";\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nvar Stack = (0, _stack.createStackNavigator)();\nvar Tab = (0, _bottomTabs.createBottomTabNavigator)();\nvar MainTabs = function MainTabs() {\n  return (0, _jsxRuntime.jsxs)(Tab.Navigator, {\n    screenOptions: {\n      tabBarActiveTintColor: _colors.colors.primary,\n      tabBarInactiveTintColor: _colors.colors.textLight,\n      tabBarStyle: {\n        backgroundColor: _colors.colors.white,\n        borderTopColor: _colors.colors.border,\n        borderTopWidth: 1\n      },\n      headerStyle: {\n        backgroundColor: _colors.colors.white\n      },\n      headerTintColor: _colors.colors.text\n    },\n    children: [(0, _jsxRuntime.jsx)(Tab.Screen, {\n      name: \"PrayerFeed\",\n      component: _PrayerFeedScreen.default,\n      options: {\n        title: 'Prayer Feed',\n        tabBarLabel: 'Feed',\n        tabBarIcon: function tabBarIcon(_ref) {\n          var color = _ref.color;\n          return (0, _jsxRuntime.jsx)(_reactNative.Text, {\n            style: {\n              color: color,\n              fontSize: 20\n            },\n            children: \"\\uD83D\\uDCFF\"\n          });\n        }\n      }\n    }), (0, _jsxRuntime.jsx)(Tab.Screen, {\n      name: \"Campaigns\",\n      component: _CampaignsScreen.default,\n      options: {\n        title: 'Campaigns',\n        tabBarLabel: 'Campaigns',\n        tabBarIcon: function tabBarIcon(_ref2) {\n          var color = _ref2.color;\n          return (0, _jsxRuntime.jsx)(_reactNative.Text, {\n            style: {\n              color: color,\n              fontSize: 20\n            },\n            children: \"\\uD83D\\uDCCB\"\n          });\n        }\n      }\n    })]\n  });\n};\nvar AppNavigator = function AppNavigator() {\n  var _useState = (0, _react.useState)(null),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    initialRoute = _useState2[0],\n    setInitialRoute = _useState2[1];\n  var _useState3 = (0, _react.useState)(true),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  (0, _react.useEffect)(function () {\n    var init = function () {\n      var _ref3 = (0, _asyncToGenerator2.default)(function* () {\n        try {\n          yield _StateService.default.initialize();\n          var subscribedCampaigns = _StateService.default.getSubscribedCampaigns();\n          setInitialRoute(subscribedCampaigns.length > 0 ? 'MainTabs' : 'CampaignChooser');\n        } catch (error) {\n          console.error('Error initializing app:', error);\n          setInitialRoute('CampaignChooser');\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function init() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    init();\n  }, []);\n  if (isLoading || !initialRoute) {\n    return (0, _jsxRuntime.jsx)(_reactNative.View, {\n      style: styles.loadingContainer,\n      children: (0, _jsxRuntime.jsx)(_reactNative.Text, {\n        style: styles.loadingText,\n        children: \"Loading...\"\n      })\n    });\n  }\n  return (0, _jsxRuntime.jsx)(_native.NavigationContainer, {\n    children: (0, _jsxRuntime.jsxs)(Stack.Navigator, {\n      initialRouteName: initialRoute,\n      screenOptions: {\n        headerShown: true\n      },\n      children: [(0, _jsxRuntime.jsx)(Stack.Screen, {\n        name: \"MainTabs\",\n        component: MainTabs,\n        options: {\n          headerShown: false\n        }\n      }), (0, _jsxRuntime.jsx)(Stack.Screen, {\n        name: \"CampaignChooser\",\n        component: _CampaignChooserScreen.default,\n        options: {\n          title: 'Choose Campaign'\n        }\n      }), (0, _jsxRuntime.jsx)(Stack.Screen, {\n        name: \"PrayerFuel\",\n        component: _PrayerFuelScreen.default,\n        options: {\n          title: 'Prayer Fuel'\n        }\n      })]\n    })\n  });\n};\nvar styles = _reactNative.StyleSheet.create({\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: _colors.colors.white\n  },\n  loadingText: {\n    fontSize: 18,\n    color: _colors.colors.text\n  }\n});\nvar _default = exports.default = AppNavigator;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_native","_stack","_bottomTabs","_reactNative","_StateService","_interopRequireDefault","_CampaignChooserScreen","_PrayerFeedScreen","_PrayerFuelScreen","_CampaignsScreen","_colors","_jsxRuntime","_this","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Stack","createStackNavigator","Tab","createBottomTabNavigator","MainTabs","jsxs","Navigator","screenOptions","tabBarActiveTintColor","colors","primary","tabBarInactiveTintColor","textLight","tabBarStyle","backgroundColor","white","borderTopColor","border","borderTopWidth","headerStyle","headerTintColor","text","children","jsx","Screen","name","component","PrayerFeedScreen","options","title","tabBarLabel","tabBarIcon","_ref","color","Text","style","fontSize","CampaignsScreen","_ref2","AppNavigator","_useState","useState","_useState2","_slicedToArray2","initialRoute","setInitialRoute","_useState3","_useState4","isLoading","setIsLoading","useEffect","init","_ref3","_asyncToGenerator2","StateService","initialize","subscribedCampaigns","getSubscribedCampaigns","length","error","console","apply","arguments","View","styles","loadingContainer","loadingText","NavigationContainer","initialRouteName","headerShown","CampaignChooserScreen","PrayerFuelScreen","StyleSheet","create","flex","justifyContent","alignItems","_default","exports"],"sources":["/home/nath/Work/FaithTech/Doxa/mobile-app/PrayerApp/src/navigation/AppNavigator.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { View, Text, StyleSheet } from 'react-native';\nimport StateService from '../services/StateService';\nimport CampaignChooserScreen from '../screens/CampaignChooserScreen';\nimport PrayerFeedScreen from '../screens/PrayerFeedScreen';\nimport PrayerFuelScreen from '../screens/PrayerFuelScreen';\nimport CampaignsScreen from '../screens/CampaignsScreen';\nimport { colors } from '../theme/colors';\n\nexport type RootStackParamList = {\n  MainTabs: undefined;\n  CampaignChooser: undefined;\n  PrayerFuel: { campaignId: string; day: number };\n};\n\nexport type MainTabParamList = {\n  PrayerFeed: undefined;\n  Campaigns: undefined;\n};\n\nconst Stack = createStackNavigator<RootStackParamList>();\nconst Tab = createBottomTabNavigator<MainTabParamList>();\n\nconst MainTabs: React.FC = () => {\n  return (\n    <Tab.Navigator\n      screenOptions={{\n        tabBarActiveTintColor: colors.primary,\n        tabBarInactiveTintColor: colors.textLight,\n        tabBarStyle: {\n          backgroundColor: colors.white,\n          borderTopColor: colors.border,\n          borderTopWidth: 1,\n        },\n        headerStyle: {\n          backgroundColor: colors.white,\n        },\n        headerTintColor: colors.text,\n      }}\n    >\n      <Tab.Screen\n        name=\"PrayerFeed\"\n        component={PrayerFeedScreen}\n        options={{\n          title: 'Prayer Feed',\n          tabBarLabel: 'Feed',\n          tabBarIcon: ({ color }) => <Text style={{ color, fontSize: 20 }}>ðŸ“¿</Text>,\n        }}\n      />\n      <Tab.Screen\n        name=\"Campaigns\"\n        component={CampaignsScreen}\n        options={{\n          title: 'Campaigns',\n          tabBarLabel: 'Campaigns',\n          tabBarIcon: ({ color }) => <Text style={{ color, fontSize: 20 }}>ðŸ“‹</Text>,\n        }}\n      />\n    </Tab.Navigator>\n  );\n};\n\nconst AppNavigator: React.FC = () => {\n  const [initialRoute, setInitialRoute] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const init = async () => {\n      try {\n        await StateService.initialize();\n        const subscribedCampaigns = StateService.getSubscribedCampaigns();\n        // If user has subscribed campaigns, go to main tabs, otherwise to chooser\n        setInitialRoute(subscribedCampaigns.length > 0 ? 'MainTabs' : 'CampaignChooser');\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        setInitialRoute('CampaignChooser');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    init();\n  }, []);\n\n  if (isLoading || !initialRoute) {\n    return (\n      <View style={styles.loadingContainer}>\n        <Text style={styles.loadingText}>Loading...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <NavigationContainer>\n      <Stack.Navigator\n        initialRouteName={initialRoute as keyof RootStackParamList}\n        screenOptions={{ headerShown: true }}\n      >\n        <Stack.Screen\n          name=\"MainTabs\"\n          component={MainTabs}\n          options={{ headerShown: false }}\n        />\n        <Stack.Screen\n          name=\"CampaignChooser\"\n          component={CampaignChooserScreen}\n          options={{ title: 'Choose Campaign' }}\n        />\n        <Stack.Screen\n          name=\"PrayerFuel\"\n          component={PrayerFuelScreen}\n          options={{ title: 'Prayer Fuel' }}\n        />\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n};\n\nconst styles = StyleSheet.create({\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: colors.white,\n  },\n  loadingText: {\n    fontSize: 18,\n    color: colors.text,\n  },\n});\n\nexport default AppNavigator;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}