{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\nvar _languages = require(\"../data/languages\");\nvar STORAGE_KEY = '@PrayerApp:userState';\nvar StateService = function () {\n  function StateService() {\n    (0, _classCallCheck2.default)(this, StateService);\n    this.state = null;\n    this.listeners = [];\n  }\n  return (0, _createClass2.default)(StateService, [{\n    key: \"initialize\",\n    value: function () {\n      var _initialize = (0, _asyncToGenerator2.default)(function* () {\n        try {\n          var stored = yield _asyncStorage.default.getItem(STORAGE_KEY);\n          if (stored) {\n            this.state = JSON.parse(stored);\n          } else {\n            this.state = {\n              subscribedCampaigns: [],\n              prayedItems: [],\n              campaignLanguages: {},\n              reminders: [],\n              appLanguage: _languages.defaultLanguage.code\n            };\n            yield this.save();\n          }\n          return this.state;\n        } catch (error) {\n          console.error('Error initializing state:', error);\n          this.state = {\n            subscribedCampaigns: [],\n            prayedItems: [],\n            campaignLanguages: {},\n            reminders: [],\n            appLanguage: _languages.defaultLanguage.code\n          };\n          return this.state;\n        }\n      });\n      function initialize() {\n        return _initialize.apply(this, arguments);\n      }\n      return initialize;\n    }()\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      if (!this.state) {\n        throw new Error('State not initialized. Call initialize() first.');\n      }\n      return this.state;\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this = this;\n      this.listeners.push(listener);\n      return function () {\n        _this.listeners = _this.listeners.filter(function (l) {\n          return l !== listener;\n        });\n      };\n    }\n  }, {\n    key: \"notifyListeners\",\n    value: function notifyListeners() {\n      var _this2 = this;\n      if (this.state) {\n        this.listeners.forEach(function (listener) {\n          return listener(_this2.state);\n        });\n      }\n    }\n  }, {\n    key: \"save\",\n    value: function () {\n      var _save = (0, _asyncToGenerator2.default)(function* () {\n        try {\n          yield _asyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(this.state));\n          this.notifyListeners();\n        } catch (error) {\n          console.error('Error saving state:', error);\n        }\n      });\n      function save() {\n        return _save.apply(this, arguments);\n      }\n      return save;\n    }()\n  }, {\n    key: \"subscribeToCampaign\",\n    value: function () {\n      var _subscribeToCampaign = (0, _asyncToGenerator2.default)(function* (campaignId, language) {\n        if (!this.state) yield this.initialize();\n        if (!this.state.subscribedCampaigns.includes(campaignId)) {\n          this.state.subscribedCampaigns.push(campaignId);\n          if (language) {\n            this.state.campaignLanguages[campaignId] = language;\n          }\n          yield this.save();\n        }\n      });\n      function subscribeToCampaign(_x, _x2) {\n        return _subscribeToCampaign.apply(this, arguments);\n      }\n      return subscribeToCampaign;\n    }()\n  }, {\n    key: \"unsubscribeFromCampaign\",\n    value: function () {\n      var _unsubscribeFromCampaign = (0, _asyncToGenerator2.default)(function* (campaignId) {\n        if (!this.state) yield this.initialize();\n        this.state.subscribedCampaigns = this.state.subscribedCampaigns.filter(function (id) {\n          return id !== campaignId;\n        });\n        delete this.state.campaignLanguages[campaignId];\n        yield this.save();\n      });\n      function unsubscribeFromCampaign(_x3) {\n        return _unsubscribeFromCampaign.apply(this, arguments);\n      }\n      return unsubscribeFromCampaign;\n    }()\n  }, {\n    key: \"getSubscribedCampaigns\",\n    value: function getSubscribedCampaigns() {\n      if (!this.state) return [];\n      return (0, _toConsumableArray2.default)(this.state.subscribedCampaigns);\n    }\n  }, {\n    key: \"isSubscribed\",\n    value: function isSubscribed(campaignId) {\n      if (!this.state) return false;\n      return this.state.subscribedCampaigns.includes(campaignId);\n    }\n  }, {\n    key: \"markAsPrayed\",\n    value: function () {\n      var _markAsPrayed = (0, _asyncToGenerator2.default)(function* (fuelId) {\n        if (!this.state) yield this.initialize();\n        if (!this.state.prayedItems.includes(fuelId)) {\n          this.state.prayedItems.push(fuelId);\n          yield this.save();\n        }\n      });\n      function markAsPrayed(_x4) {\n        return _markAsPrayed.apply(this, arguments);\n      }\n      return markAsPrayed;\n    }()\n  }, {\n    key: \"unmarkAsPrayed\",\n    value: function () {\n      var _unmarkAsPrayed = (0, _asyncToGenerator2.default)(function* (fuelId) {\n        if (!this.state) yield this.initialize();\n        this.state.prayedItems = this.state.prayedItems.filter(function (id) {\n          return id !== fuelId;\n        });\n        yield this.save();\n      });\n      function unmarkAsPrayed(_x5) {\n        return _unmarkAsPrayed.apply(this, arguments);\n      }\n      return unmarkAsPrayed;\n    }()\n  }, {\n    key: \"isPrayed\",\n    value: function isPrayed(fuelId) {\n      if (!this.state) return false;\n      return this.state.prayedItems.includes(fuelId);\n    }\n  }, {\n    key: \"getPrayedItems\",\n    value: function getPrayedItems() {\n      if (!this.state) return [];\n      return (0, _toConsumableArray2.default)(this.state.prayedItems);\n    }\n  }, {\n    key: \"setCampaignLanguage\",\n    value: function () {\n      var _setCampaignLanguage = (0, _asyncToGenerator2.default)(function* (campaignId, languageCode) {\n        if (!this.state) yield this.initialize();\n        this.state.campaignLanguages[campaignId] = languageCode;\n        yield this.save();\n      });\n      function setCampaignLanguage(_x6, _x7) {\n        return _setCampaignLanguage.apply(this, arguments);\n      }\n      return setCampaignLanguage;\n    }()\n  }, {\n    key: \"getCampaignLanguage\",\n    value: function getCampaignLanguage(campaignId) {\n      if (!this.state) return _languages.defaultLanguage.code;\n      return this.state.campaignLanguages[campaignId] || _languages.defaultLanguage.code;\n    }\n  }, {\n    key: \"setAppLanguage\",\n    value: function () {\n      var _setAppLanguage = (0, _asyncToGenerator2.default)(function* (languageCode) {\n        if (!this.state) yield this.initialize();\n        this.state.appLanguage = languageCode;\n        yield this.save();\n      });\n      function setAppLanguage(_x8) {\n        return _setAppLanguage.apply(this, arguments);\n      }\n      return setAppLanguage;\n    }()\n  }, {\n    key: \"getAppLanguage\",\n    value: function getAppLanguage() {\n      if (!this.state) return _languages.defaultLanguage.code;\n      return this.state.appLanguage;\n    }\n  }, {\n    key: \"addReminder\",\n    value: function () {\n      var _addReminder = (0, _asyncToGenerator2.default)(function* (reminder) {\n        if (!this.state) yield this.initialize();\n        this.state.reminders.push(reminder);\n        yield this.save();\n      });\n      function addReminder(_x9) {\n        return _addReminder.apply(this, arguments);\n      }\n      return addReminder;\n    }()\n  }, {\n    key: \"updateReminder\",\n    value: function () {\n      var _updateReminder = (0, _asyncToGenerator2.default)(function* (reminderId, reminder) {\n        if (!this.state) yield this.initialize();\n        var index = this.state.reminders.findIndex(function (r) {\n          return r.id === reminderId;\n        });\n        if (index !== -1) {\n          this.state.reminders[index] = reminder;\n          yield this.save();\n        }\n      });\n      function updateReminder(_x0, _x1) {\n        return _updateReminder.apply(this, arguments);\n      }\n      return updateReminder;\n    }()\n  }, {\n    key: \"removeReminder\",\n    value: function () {\n      var _removeReminder = (0, _asyncToGenerator2.default)(function* (reminderId) {\n        if (!this.state) yield this.initialize();\n        this.state.reminders = this.state.reminders.filter(function (r) {\n          return r.id !== reminderId;\n        });\n        yield this.save();\n      });\n      function removeReminder(_x10) {\n        return _removeReminder.apply(this, arguments);\n      }\n      return removeReminder;\n    }()\n  }, {\n    key: \"getReminders\",\n    value: function getReminders() {\n      if (!this.state) return [];\n      return (0, _toConsumableArray2.default)(this.state.reminders);\n    }\n  }, {\n    key: \"getReminder\",\n    value: function getReminder(reminderId) {\n      if (!this.state) return undefined;\n      return this.state.reminders.find(function (r) {\n        return r.id === reminderId;\n      });\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!StateService.instance) {\n        StateService.instance = new StateService();\n      }\n      return StateService.instance;\n    }\n  }]);\n}();\nvar _default = exports.default = StateService.getInstance();","map":{"version":3,"names":["_asyncStorage","_interopRequireDefault","require","_languages","STORAGE_KEY","StateService","_classCallCheck2","default","state","listeners","_createClass2","key","value","_initialize","_asyncToGenerator2","stored","AsyncStorage","getItem","JSON","parse","subscribedCampaigns","prayedItems","campaignLanguages","reminders","appLanguage","defaultLanguage","code","save","error","console","initialize","apply","arguments","getState","Error","subscribe","listener","_this","push","filter","l","notifyListeners","_this2","forEach","_save","setItem","stringify","_subscribeToCampaign","campaignId","language","includes","subscribeToCampaign","_x","_x2","_unsubscribeFromCampaign","id","unsubscribeFromCampaign","_x3","getSubscribedCampaigns","_toConsumableArray2","isSubscribed","_markAsPrayed","fuelId","markAsPrayed","_x4","_unmarkAsPrayed","unmarkAsPrayed","_x5","isPrayed","getPrayedItems","_setCampaignLanguage","languageCode","setCampaignLanguage","_x6","_x7","getCampaignLanguage","_setAppLanguage","setAppLanguage","_x8","getAppLanguage","_addReminder","reminder","addReminder","_x9","_updateReminder","reminderId","index","findIndex","r","updateReminder","_x0","_x1","_removeReminder","removeReminder","_x10","getReminders","getReminder","undefined","find","getInstance","instance","_default","exports"],"sources":["/home/nath/Work/FaithTech/Doxa/mobile-app/PrayerApp/src/services/StateService.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { UserState } from '../models/UserState';\nimport { Reminder } from '../models/Reminder';\nimport { defaultLanguage } from '../data/languages';\n\nconst STORAGE_KEY = '@PrayerApp:userState';\n\nclass StateService {\n  private static instance: StateService;\n  private state: UserState | null = null;\n  private listeners: Array<(state: UserState) => void> = [];\n\n  private constructor() {}\n\n  static getInstance(): StateService {\n    if (!StateService.instance) {\n      StateService.instance = new StateService();\n    }\n    return StateService.instance;\n  }\n\n  // Initialize state from storage\n  async initialize(): Promise<UserState> {\n    try {\n      const stored = await AsyncStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        this.state = JSON.parse(stored);\n      } else {\n        this.state = {\n          subscribedCampaigns: [],\n          prayedItems: [],\n          campaignLanguages: {},\n          reminders: [],\n          appLanguage: defaultLanguage.code,\n        };\n        await this.save();\n      }\n      return this.state!;\n    } catch (error) {\n      console.error('Error initializing state:', error);\n      this.state = {\n        subscribedCampaigns: [],\n        prayedItems: [],\n        campaignLanguages: {},\n        reminders: [],\n        appLanguage: defaultLanguage.code,\n      };\n      return this.state;\n    }\n  }\n\n  // Get current state\n  getState(): UserState {\n    if (!this.state) {\n      throw new Error('State not initialized. Call initialize() first.');\n    }\n    return this.state;\n  }\n\n  // Subscribe to state changes\n  subscribe(listener: (state: UserState) => void): () => void {\n    this.listeners.push(listener);\n    return () => {\n      this.listeners = this.listeners.filter(l => l !== listener);\n    };\n  }\n\n  private notifyListeners() {\n    if (this.state) {\n      this.listeners.forEach(listener => listener(this.state!));\n    }\n  }\n\n  // Save state to storage\n  private async save(): Promise<void> {\n    try {\n      await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(this.state));\n      this.notifyListeners();\n    } catch (error) {\n      console.error('Error saving state:', error);\n    }\n  }\n\n  // Campaign subscription methods\n  async subscribeToCampaign(campaignId: string, language?: string): Promise<void> {\n    if (!this.state) await this.initialize();\n    if (!this.state!.subscribedCampaigns.includes(campaignId)) {\n      this.state!.subscribedCampaigns.push(campaignId);\n      if (language) {\n        this.state!.campaignLanguages[campaignId] = language;\n      }\n      await this.save();\n    }\n  }\n\n  async unsubscribeFromCampaign(campaignId: string): Promise<void> {\n    if (!this.state) await this.initialize();\n    this.state!.subscribedCampaigns = this.state!.subscribedCampaigns.filter(\n      id => id !== campaignId\n    );\n    delete this.state!.campaignLanguages[campaignId];\n    await this.save();\n  }\n\n  getSubscribedCampaigns(): string[] {\n    if (!this.state) return [];\n    return [...this.state.subscribedCampaigns];\n  }\n\n  isSubscribed(campaignId: string): boolean {\n    if (!this.state) return false;\n    return this.state.subscribedCampaigns.includes(campaignId);\n  }\n\n  // Prayer marking methods\n  async markAsPrayed(fuelId: string): Promise<void> {\n    if (!this.state) await this.initialize();\n    if (!this.state!.prayedItems.includes(fuelId)) {\n      this.state!.prayedItems.push(fuelId);\n      await this.save();\n    }\n  }\n\n  async unmarkAsPrayed(fuelId: string): Promise<void> {\n    if (!this.state) await this.initialize();\n    this.state!.prayedItems = this.state!.prayedItems.filter(id => id !== fuelId);\n    await this.save();\n  }\n\n  isPrayed(fuelId: string): boolean {\n    if (!this.state) return false;\n    return this.state.prayedItems.includes(fuelId);\n  }\n\n  getPrayedItems(): string[] {\n    if (!this.state) return [];\n    return [...this.state.prayedItems];\n  }\n\n  // Language methods\n  async setCampaignLanguage(campaignId: string, languageCode: string): Promise<void> {\n    if (!this.state) await this.initialize();\n    this.state!.campaignLanguages[campaignId] = languageCode;\n    await this.save();\n  }\n\n  getCampaignLanguage(campaignId: string): string {\n    if (!this.state) return defaultLanguage.code;\n    return this.state.campaignLanguages[campaignId] || defaultLanguage.code;\n  }\n\n  async setAppLanguage(languageCode: string): Promise<void> {\n    if (!this.state) await this.initialize();\n    this.state!.appLanguage = languageCode;\n    await this.save();\n  }\n\n  getAppLanguage(): string {\n    if (!this.state) return defaultLanguage.code;\n    return this.state.appLanguage;\n  }\n\n  // Reminder methods\n  async addReminder(reminder: Reminder): Promise<void> {\n    if (!this.state) await this.initialize();\n    this.state!.reminders.push(reminder);\n    await this.save();\n  }\n\n  async updateReminder(reminderId: string, reminder: Reminder): Promise<void> {\n    if (!this.state) await this.initialize();\n    const index = this.state!.reminders.findIndex(r => r.id === reminderId);\n    if (index !== -1) {\n      this.state!.reminders[index] = reminder;\n      await this.save();\n    }\n  }\n\n  async removeReminder(reminderId: string): Promise<void> {\n    if (!this.state) await this.initialize();\n    this.state!.reminders = this.state!.reminders.filter(r => r.id !== reminderId);\n    await this.save();\n  }\n\n  getReminders(): Reminder[] {\n    if (!this.state) return [];\n    return [...this.state.reminders];\n  }\n\n  getReminder(reminderId: string): Reminder | undefined {\n    if (!this.state) return undefined;\n    return this.state.reminders.find(r => r.id === reminderId);\n  }\n}\n\nexport default StateService.getInstance();\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}